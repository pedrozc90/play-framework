# Play configurations
play {
    application {
        loader = "play.api.inject.guice.GuiceApplicationLoader"
    }

    i18n {
        langs = [ "en" ]
    }

    http {
        filters = "core.play.filters.Filters"
        errorHandler = "core.play.handlers.ExceptionHandler"

        secret {
            key = "SECRET_KEY"
        }

        parser {
            maxMemoryBuffer = 128K  # Default: 100K
            maxDiskBuffer = 16M     # Default: 10M
            maxLength = 16M         # Default: 10M
        }
    }

    server {
        http {
            idleTimeout = 75s       # Default: 75s
        }

        https {
            idleTimeout = 75s       # Default: 75s
        }
    }

    filters {
        enabled += "play.filters.cors.CORSFilter"
        enabled += "play.filters.headers.SecurityHeadersFilter"
        disabled += "play.filters.csrf.CSRFFilter"
        cors {
            allowedOrigins = ["http://localhost:4200"]
            allowedHttpMethods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
            allowedHttpHeaders = ["Accept", "Authorization", "Content-Type"]
            supportsCredentials = true
            preflightMaxAge = 1 hour
        }
    }

    # Evolution configuration
    evolutions {
        enabled = true
        autoApply = true        # set to true if you want automatic application
        autoApplyDowns = false  # set to true to allow automatic downgrades (dangerous in production)
    }
}

# Database configuration
db {
    default {
        driver = org.postgresql.Driver
        dialect = "org.hibernate.dialect.PostgreSQL82Dialect"
        url = "jdbc:postgresql://localhost:5432/play"
        username = "postgres"
        password = "postgres"
        jndiName = DefaultDS
    }
}

# JPA configuration
jpa {
    default = defaultPersistenceUnit
}

# Akka configurations
akka {
    loggers = ["akka.event.slf4j.Slf4jLogger"]
    loglevel = "INFO"
    log-dead-letters = 10
    log-dead-letters-during-shutdown = on

    actor {
        debug {
            receive = on
            lifecycle = on
        }
        default-dispatcher {
              fork-join-executor {
                    parallelism-min = 2
                    parallelism-factor = 2.0
                    parallelism-max = 16
                    task-peeking-mode = FIFO
              }
        }
    }

    http {
        server {
            idle-timeout = 75s  # Default: 75s
        }
        client {
            idle-timeout = 75s  # Default: 75s
        }
    }
}

# Http Server configuration
http.port = 9000

# Application configuration
app {
    name = "Boilerplate"
    version = "0.0.0"

    jwt {
        secret = "SECRET"
        issuer = "com.pedrozc90.play",
        expiration = 3d

        cookies {
            domain = localhost
            secure = false
            max-age = 24h
        }
    }
}
